{% extends "base.html" %}

{% block title %}사용자 정보 수정{% endblock %}

{% block extra_css %}
<link href="https://fonts.googleapis.com/css2?family=Noto+Sans+KR:wght@400;500;700&display=swap" rel="stylesheet">
<link rel="stylesheet" href="{{ url_for('static', filename='css/edit_user.css') }}">
{% endblock %}

{% block content %}
    <h1>사용자 정보 수정</h1>

    <form action="{{ url_for('edit_user') }}" method="POST" enctype="multipart/form-data">
        <div class="form-group mb-3">
            <label for="name">이름:</label>
            <input type="text" id="name" name="name" value="{{ user.name }}" class="form-control" required>
        </div>

        <div class="form-group mb-3">
            <label for="username">닉네임:</label>
            <input type="text" id="username" name="username" value="{{ user.username }}" class="form-control" required>
        </div>

        <div class="form-group mb-3">
            <label for="email">이메일:</label>
            <input type="email" id="email" name="email" value="{{ user.email }}" class="form-control" required>
        </div>

        <div class="form-group mb-3">
            <label for="phone">전화번호:</label>
            <input type="text" id="phone" name="phone" value="{{ user.phone }}" class="form-control" required>
        </div>

        <div class="form-group mb-3">
            <label for="profile_picture">프로필 사진:</label>
            <input type="file" id="profile_picture" name="profile_picture" class="form-control">
            {% if user.profile_picture %}
                <img src="{{ url_for('static', filename='uploads/' + user.profile_picture) }}" 
                    alt="Profile Picture Preview" class="profile-picture-preview">
            {% else %}
                <img src="" alt="Profile Picture Preview" class="profile-picture-preview" style="display: none;">
            {% endif %}
        </div>
        

        <button type="submit" class="btn btn-primary">수정 완료</button>
    </form>

    <div class="mt-3">
        <a href="{{ url_for('profile') }}" class="btn btn-secondary">프로필로 돌아가기</a>
    </div>
{% endblock %}

{% block extra_js %}
<script src="{{ url_for('static', filename='js/edit_user.js') }}"></script>
{% endblock %}